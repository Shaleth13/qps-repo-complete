# Quant Portfolio Replication — Quick Reproducible Package

This repository is prepared to meet the replication/`must-match` requirement of the project spec.
It contains example templates and helper scripts to **reproduce** the sandbox run via a replay and generate `results.json` and `replication_diffs.json`.

## Quick start (local)

Requirements:
- Docker (optional) or Python 3.9+
- `pip install -r requirements.txt`

Steps:
1. (Optional) Build environment:
   - `docker-compose up --build` (uses `docker-compose.yml`)
2. Run replay script (replays raw feed and produces `results.json`):
   - `bash run_replay.sh`
   - This will attempt to invoke your project's replay entrypoint (`src/replay.py` or `src/main.py`). If not found, it will generate a **template** `results.json` and sample artifacts.
3. Inspect outputs:
   - `results.json`, `replication_diffs.json`, `manifest.json` (lists artifact hashes)
   - `reports/quantstats.html`, `reports/wfo_in_vs_oos.png`

## Files added by the instructor assistant
- `results.json` — example output expected format.
- `replication_diffs.json` — schema and example mismatch entry.
- `manifest.json` — autogenerated listing of repository artifacts with SHA256 hashes.
- `docker-compose.yml` — dev docker compose to run `run_replay.sh`.
- `run_replay.sh` — helper to run replay or produce template outputs.
- `reports/quantstats.html` — placeholder quantstats report.
- `reports/wfo_in_vs_oos.png` — placeholder WFO chart.
- `artifacts/marketdata/sample_feed.csv.gz` — small sample feed for quick tests.
- `.github/workflows/ci.yml` — CI job to run the replay script.

## How to replace templates with real outputs
1. Replace `results.json` with the real replication output after running the sandbox and replay.
2. Fill `replication_diffs.json` with per-trade diffs if any mismatches occurred.
3. Replace placeholder reports with your generated quantstats HTML and WFO plots under `/reports/`.

## Reproducibility checklist
- All timestamps must be ISO8601 UTC.
- Save raw market data under `/artifacts/marketdata/` and include SHA256 in `manifest.json`.
- Seed RNGs and record seeds in logs.
- Ensure your backtest `replay` mode can ingest the raw feed format provided.